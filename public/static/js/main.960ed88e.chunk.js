(this.webpackJsonppgtm=this.webpackJsonppgtm||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(30),r=a.n(c),i=(a(38),a(2)),s=a(3),o=a(4),u=a(5),m=a(9),d=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"NavBar"},l.a.createElement("ul",{className:"nav"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/about"},"About")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/Contact"},"Contact")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/"},"Something"))))}}]),a}(l.a.Component),h=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Newsletter"})}}]),a}(l.a.Component),p=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Logo"})}}]),a}(l.a.Component),v=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Header"},l.a.createElement(h,null),l.a.createElement(p,null),l.a.createElement(d,null))}}]),a}(l.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Footer"},l.a.createElement("div",{className:"copyright"},"\xa9 ",(new Date).getFullYear()," Pop! Goes the Music"))}}]),a}(l.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"layout"},l.a.createElement(v,null),l.a.createElement("div",{className:"content-site"},this.props.children),l.a.createElement(f,null))}}]),a}(l.a.Component),g=a(14),b=a(16),C=a.n(b),N=function e(){var t=this;Object(i.a)(this,e),this.service=C.a.create({baseURL:"http://localhost:5000/api",withCredentials:!0}),this.newArticle=function(e,a,n,l,c,r,i,s,o,u,m,d,h,p,v){return t.service.post("/articles",{title:e,overview:a,picFeatured:n,picCaption:l,picCredit:c,author:r,authorTwitter:i,authorIG:s,chapo:o,articleContent:u,lang:m,cat:d,tags:h,selectedLang:p,selectedCat:v}).then((function(e){return e.data}))},this.getArticle=function(){return t.service.get("/articles/:id").then((function(e){return e.data}))},this.updateArticle=function(e,a,n,l,c,r,i,s,o,u,m,d,h,p,v){return t.service.put("/articles/:id",{title:e,overview:a,picFeatured:n,picCaption:l,picCredit:c,author:r,authorTwitter:i,authorIG:s,chapo:o,articleContent:u,lang:m,cat:d,tags:h,selectedLang:p,selectedCat:v}).then((function(e){return e.data}))},this.allArticles=function(){return t.service.get("/articles").then((function(e){return e.data}))}},y=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={title:"",overview:"",picFeatured:"",picCaption:"",picCredit:"",author:"",authorTwitter:"",authorIG:"",chapo:"",articleContent:"",lang:"",cat:"",tags:"",selectedLang:"french",selectedCat:"Nouveaux artistes"},e.service=new N,e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(g.a)({},n,l))},e.handleOptionChange=function(t){e.setState({selectedLang:t.target.value})},e.handleCheckboxChange=function(t){e.setState({selectedCat:t.target.value})},e.handleSubmitForm=function(t){t.preventDefault();var a=e.state,n=a.title,l=a.overview,c=a.picFeatured,r=a.picCaption,i=a.picCredit,s=a.author,o=a.authorTwitter,u=a.authorIG,m=a.chapo,d=a.articleContent,h=a.lang,p=a.cat,v=a.tags,f=a.selectedLang,E=a.selectedCat;console.log(n),e.service.newArticle(n,l,c,r,i,s,o,u,m,d,h,p,v,f,E).then((function(t){e.setState({title:"",overview:"",picFeatured:"",picCaption:"",picCredit:"",author:"",authorTwitter:"",authorIG:"",chapo:"",articleContent:"",lang:"",cat:"",tags:"",selectedLang:"french",selectedCat:"Nouveaux artistes"}),e.props.addTheArticle(e.state)})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"regular-article"},l.a.createElement("form",{onSubmit:this.handleSubmitForm,enctype:"multipart/form-data"},l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Title:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Overview:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"overview",value:this.state.overview,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Featured picture:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"file",name:"picFeatured",value:this.state.picFeatured,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Caption:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"picCaption",value:this.state.picCaption,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Credit:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"picCredit",value:this.state.picCredit,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Author:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"author",value:this.state.author,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Author's Twitter username:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"authorTwitter",value:this.state.authorTwitter,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Author's Instagram username:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"authorIG",value:this.state.authorIG,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Lead (chap\xf4):"),l.a.createElement("div",{className:"field-content"},l.a.createElement("textarea",{name:"chapo",value:this.state.chapo,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Article:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("textarea",{name:"articleContent",value:this.state.articleContent,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Language:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"radio",name:"language",value:"french",checked:"french"===this.state.selectedLang,onChange:this.handleOptionChange,className:"form-check-input"}),"french",l.a.createElement("input",{type:"radio",name:"language",value:"english",checked:"english"===this.state.selectedLang,onChange:this.handleOptionChange,className:"form-check-input"}),"english")))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Category:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"checkbox",name:"cat",value:"Nouveaux artistes",checked:"Nouveaux artistes"===this.state.selectedCat,onChange:this.handleCheckboxChange,className:"form-check-input"}),"Nouveaux artistes",l.a.createElement("input",{type:"checkbox",name:"cat",value:"Rencontres",checked:"Rencontres"===this.state.selectedCat,onChange:this.handleCheckboxChange,className:"form-check-input"}),"Rencontres",l.a.createElement("input",{type:"checkbox",name:"cat",value:"Concerts",checked:"Concerts"===this.state.selectedCat,onChange:this.handleCheckboxChange,className:"form-check-input"}),"Concerts")))),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Tags:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"tags",value:this.state.tags,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("center",null,l.a.createElement("button",{type:"submit"},"Save"))))}}]),a}(l.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(E,null,l.a.createElement("h1",null,"Welcome to our website!"),l.a.createElement(y,{addTheRegularArticle:this.addRegularArticleHandler})))}}]),a}(l.a.Component),O=function e(){var t=this;Object(i.a)(this,e),this.service=C.a.create({baseURL:"http://localhost:5000/api",withCredentials:!0}),this.signup=function(e,a,n,l){return t.service.post("/signup",{name:e,email:a,password:n,profilePic:l}).then((function(e){return e.data}))},this.upload=function(e){return t.service.post("/upload",e).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{email:e,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))}},j=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={name:"",email:"",password:"",profilePic:""},e.service=new O,e.handleFormSubmit=function(t){t.preventDefault();var a=e.state.name,n=e.state.email,l=e.state.password,c=e.state.picFeatured;e.service.signup(a,n,l,c).then((function(t){console.log("je suis dans le then du service.signup"),e.setState({name:"",email:"",password:"",picFeatured:""}),e.props.getUser(t)})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(g.a)({},n,l))},e.handleUpload=function(t){var a=new FormData;a.append("photo",t.target.files[0]),O.upload(a).then((function(t){e.props.updateUser(t)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"center-page"},l.a.createElement("form",{className:"center-form",onSubmit:this.handleFormSubmit},l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Name:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}})))),l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Email:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})))),l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Password:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})))),l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Profile picture:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"file",name:"picFeatured",value:this.state.picFeatured,onChange:this.handleUpload})))),l.a.createElement("button",{type:"submit"},"Sign up"),l.a.createElement("p",{className:"under-submit"},"Do you already have an account?",l.a.createElement("br",null),"Awesome, let's get you ",l.a.createElement(m.b,{to:"/npp/admin/login"},"logged in"),"!")))}}]),a}(l.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.service=new O,e.handleFormSubmit=function(t){t.preventDefault();var a=e.state.email,n=e.state.password;e.service.login(a,n).then((function(t){console.log("je suis dans le then du service.login"),e.setState({email:"",password:""}),e.props.getUser(t)})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(g.a)({},n,l))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"center-page"},l.a.createElement("form",{className:"center-form",onSubmit:this.handleFormSubmit},l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Email:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})))),l.a.createElement("label",null,l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"field-name"},"Password:"),l.a.createElement("div",{className:"field-content"},l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})))),l.a.createElement("button",{type:"submit"},"Log in"),l.a.createElement("p",{className:"under-submit"},"You don't have an account yet?",l.a.createElement("br",null),"You can ",l.a.createElement("b",null,l.a.createElement(m.b,{to:"npp/admin/signup"},"sign up")),".")))}}]),a}(l.a.Component),x=a(12),S=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={loggedInUser:null},e.service=new O,e.getTheUser=function(t){e.setState({loggedInUser:t})},e}return Object(s.a)(a,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(x.c,null,l.a.createElement(x.a,{exact:!0,path:"/",component:w}),l.a.createElement(x.a,{path:"/npp/admin/signup",render:function(){return l.a.createElement(j,{getUser:e.getTheUser})}}),l.a.createElement(x.a,{path:"/npp/admin/login",render:function(){return l.a.createElement(k,{getUser:e.getTheUser})}}),l.a.createElement(x.a,{path:"/npp/admin/create-article",component:y})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(m.a,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.960ed88e.chunk.js.map